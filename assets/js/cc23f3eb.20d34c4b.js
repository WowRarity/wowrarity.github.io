(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[758],{3905:function(e,t,i){"use strict";i.d(t,{Zo:function(){return d},kt:function(){return h}});var a=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)i=o[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):r(r({},t),e)),i},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var i=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=c(i),h=n,p=m["".concat(l,".").concat(h)]||m[h]||u[h]||o;return i?a.createElement(p,r(r({ref:t},d),{},{components:i})):a.createElement(p,r({ref:t},d))}));function h(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=i.length,r=new Array(o);r[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,r[1]=s;for(var c=2;c<o;c++)r[c]=i[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,i)}m.displayName="MDXCreateElement"},7195:function(e,t,i){"use strict";i.r(t),i.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return d},default:function(){return m}});var a=i(2122),n=i(9756),o=(i(7294),i(3905)),r=["components"],s={sidebar_position:2,slug:"/manual/tracking-custom-items"},l="Tracking Custom Items",c={unversionedId:"manual/tracking-custom-items",id:"manual/tracking-custom-items",isDocsHomePage:!1,title:"Tracking Custom Items",description:"You can add any item to Rarity's database and it will be tracked just like any of the standard items that are included by default.",source:"@site/docs/manual/02-tracking-custom-items.md",sourceDirName:"manual",slug:"/manual/tracking-custom-items",permalink:"/docs/manual/tracking-custom-items",editUrl:"https://github.com/WowRarity/Rarity/edit/main/docusaurus/docs/manual/02-tracking-custom-items.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,slug:"/manual/tracking-custom-items"},sidebar:"tutorialSidebar",previous:{title:"Table of Contents",permalink:"/docs/manual"},next:{title:"Accessing Historical Data",permalink:"/docs/manual/accessing-historical-data"}},d=[{value:"Example Configuration",id:"example-configuration",children:[]},{value:"Setting Up Custom Items",id:"setting-up-custom-items",children:[{value:"Determining the Item ID",id:"determining-the-item-id",children:[]},{value:"Picking a Loot Method",id:"picking-a-loot-method",children:[]},{value:"Using Kill Statistics",id:"using-kill-statistics",children:[]},{value:"Configuring the Defeat Detection",id:"configuring-the-defeat-detection",children:[]}]},{value:"Limitations",id:"limitations",children:[{value:"Special Detection Methods",id:"special-detection-methods",children:[]},{value:"Multiple Sources",id:"multiple-sources",children:[]},{value:"Duplicate Names",id:"duplicate-names",children:[]},{value:"&quot;Immortal&quot; Raid Bosses",id:"immortal-raid-bosses",children:[]},{value:"Pushed Items and Loot Toasts",id:"pushed-items-and-loot-toasts",children:[]}]}],u={toc:d};function m(e){var t=e.components,s=(0,n.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"tracking-custom-items"},"Tracking Custom Items"),(0,o.kt)("p",null,"You can add any item to Rarity's database and it will be tracked just like any of the standard items that are included by default."),(0,o.kt)("p",null,"To have the addon actually detect attempts on Custom items you added, it's critical to configure everything correctly. This page should help you accomplish just that, but feel free to ask if you can't figure out how to set up tracking for an item properly."),(0,o.kt)("h2",{id:"example-configuration"},"Example Configuration"),(0,o.kt)("p",null,"We'll go over a fairly standard collectible item to explain the most important fields:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("a",{parentName:"p",href:"https://www.wowhead.com/item=35275/orb-of-the-sindorei"},"https://www.wowhead.com/item=35275/orb-of-the-sindorei"))),(0,o.kt)("p",null,"This item uses the following settings:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Example configuration",src:i(8048).Z})),(0,o.kt)("p",null,"What do they mean? Well, let's take a look:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"This item has the ID ",(0,o.kt)("inlineCode",{parentName:"li"},"35275"),", which is used to query information about it from the server"),(0,o.kt)("li",{parentName:"ul"},"Attempts should be registered when looting an ",(0,o.kt)("inlineCode",{parentName:"li"},"NPC")," (method of detection)"),(0,o.kt)("li",{parentName:"ul"},"The NPC IDs are taken directly from ",(0,o.kt)("a",{parentName:"li",href:"https://tbc.wowhead.com/item=35275/orb-of-the-sindorei#dropped-by"},'wowhead\'s "Dropped By" tab')),(0,o.kt)("li",{parentName:"ul"},"Only when one of the NPCs on this list is looted will an attempt actually be registered"),(0,o.kt)("li",{parentName:"ul"},"No kill statistics could be added, because Blizzard did not provide any for the Magister's Terrace dungeon"),(0,o.kt)("li",{parentName:"ul"},"The estimated drop rate is ",(0,o.kt)("inlineCode",{parentName:"li"},"1 in 60"),", i.e., ",(0,o.kt)("inlineCode",{parentName:"li"},"1.667%"),'. This affects your "luckiness" display and nothing else'),(0,o.kt)("li",{parentName:"ul"},'There\'s no way to mark this item as "done", so it will never show any text in the "Defeated" column')),(0,o.kt)("p",null,"Don't worry if it's not clear what these mean, they are explained in more detail below."),(0,o.kt)("h2",{id:"setting-up-custom-items"},"Setting Up Custom Items"),(0,o.kt)("h3",{id:"determining-the-item-id"},"Determining the Item ID"),(0,o.kt)("p",null,"You'll need to look up identifiers for the item on ",(0,o.kt)("a",{parentName:"p",href:"https://wowhead.com"},"wowhead.com"),". These are always numbers and can be found in the URL itself."),(0,o.kt)("p",null,"If you enter the wrong ID or the server doesn't recognize the item, you will see an error like this:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Error caused by an invalid item ID being set",src:i(938).Z})),(0,o.kt)("p",null,"In this case you should double-check to make sure you got the right ID, and that it's entered in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Item ID")," field."),(0,o.kt)("h3",{id:"picking-a-loot-method"},"Picking a Loot Method"),(0,o.kt)("p",null,"The loot method determines when an attempt is triggered. It's used in conjuction with unique identifiers to make sure only items that Rarity thinks can actually be obtained are considered."),(0,o.kt)("p",null,"Currently, the following triggers can be detected:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ARCHAEOLOGY"),": Triggered when an Archaeology project is completed"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"BOSS"),": Triggered when a relevant enemy is killed (detected via scanning the combat log)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"COLLECTION"),": Triggers when relevant items are accumulated in your inventory"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"FISHING"),': Triggers when a "Fishing" cast is completed (pool detection is tricky)'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"NPC"),": Triggers when a corpse is looted (standard loot window opens)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"CONTAINER"),": Triggers when an item is obtained after opening another item"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ZONE"),": Triggers when any enemy is looted in a given (sub)zone")),(0,o.kt)("p",null,"You should select the method that most closely resembles the ingame activity/event that takes place when the item can be obtained."),(0,o.kt)("h3",{id:"using-kill-statistics"},"Using Kill Statistics"),(0,o.kt)("p",null,"Blizzard provides statistics on many (if not most) modern-day raid bosses and other significant encounters as part of their Achievements API. Rarity is able to use them to automatically detect attempts."),(0,o.kt)("p",null,"While Blizzard doesn't provide anything other than the number of times a boss has been defeated, this information is usually more reliable than other methods of detection. It's also synchronized automatically and can therefore be restored even if you delete your Saved Variables."),(0,o.kt)("p",null,"In order to use kill statistics for a given item, all you have to do is find the correponsding statistic IDs from wowhead. This can usually be accomplished by simply searching for ",(0,o.kt)("inlineCode",{parentName:"p"},"<boss you want to track> kills")," directly, like in this example:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Search terms used to find Gul&#39;dan kill statistics",src:i(7855).Z})),(0,o.kt)("p",null,"The result includes all four kill statistic IDs that Blizzard implemented for the Nighthold raid:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Kill statistics for the various difficulties of the  Gul&#39;dan encounter",src:i(270).Z})),(0,o.kt)("p",null,"You can extract the ID for a given difficulty directly from the wowhead URL. For this example, the URL"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("a",{parentName:"p",href:"https://www.wowhead.com/achievement=10977/guldan-kills-raid-finder-nighthold"},"https://www.wowhead.com/achievement=10977/guldan-kills-raid-finder-nighthold"))),(0,o.kt)("p",null,"refers to the following achievement ID:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"achievement=",(0,o.kt)("strong",{parentName:"p"},"10977"))),(0,o.kt)("p",null,"Kill statistics are technically achievement criteria, so despite the naming this achievement ID (here ",(0,o.kt)("inlineCode",{parentName:"p"},"10977"),") is what you'll be interested in. This is the number that you can enter into the statistics field, and it's also what Rarity uses for many items that are tracked by default:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Kill statistic IDs for the Living Infernal Core",src:i(7569).Z})),(0,o.kt)("p",null,"In the above screenshot, you'' notice that the achievement ID we extracted before is ",(0,o.kt)("strong",{parentName:"p"},"not")," listed. That's because it is the one tracking LFR kills, and the Living Infernal Core mount can't drop from LFR, so Rarity only uses those for Normal, Heroic, and Mythic difficulty."),(0,o.kt)("p",null,'Please note that the regular achievements awarded for defeating a boss aren\'t sufficient. Kill statistics can only be derived from the "special" (hidden) achievements that Blizzard also uses to populate your "Statistics" tab ingame. They\'re different from normal achievements found in the "Achievements" UI and can\'t be used interchangeably.'),(0,o.kt)("p",null,"If you can't find any \"kills\" or \"defeated\" achievement for a given boss or encounter, it's likely they didn't implement statistics for it. In this case, you'll have to rely on other methods of detection."),(0,o.kt)("p",null,"As a final note, since Rarity caches these statistics on a per-character basis, it's possible you might encounter duplicate attempts being counted after renaming your character or transferring it to a different server. Read ",(0,o.kt)("a",{parentName:"p",href:"/docs/manua/troubleshooting/clearing-accountwide-statistics"},"this article")," if that is a problem you're encountering."),(0,o.kt)("h3",{id:"configuring-the-defeat-detection"},"Configuring the Defeat Detection"),(0,o.kt)("p",null,"Defeat detection is an optional feature that will check items off by marking them as \"defeated\" in the addon's main window. This is purely cosmetic and many items aren't configured to actually use this, but they can still be tracked without this being set up."),(0,o.kt)("p",null,"Only a few methods for defeat detection are currently supported:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Supported fields that can be used for the defeat detection",src:i(5766).Z})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'Quest ID: Tracks whether the quests entered here are completed. Rarity will mark the item as "defeated" when they are.'),(0,o.kt)("li",{parentName:"ul"},"Dungeon ID: Mark the item as \"defeated' when a dungeon lockout for the given dungeon exists"),(0,o.kt)("li",{parentName:"ul"},'Boss name: Mark it as "defeated" when a lockout for the given raid boss/encounter name exists')),(0,o.kt)("p",null,"The latter two methods may or may not work flawlessly on non-English clients. Usually, a translation has to be provided, though Rarity uses a library to automatically look them up. This is normally good enough, but there have been cases where it isn't working. Please ",(0,o.kt)("a",{parentName:"p",href:"/docs/reporting-a-problem"},"report an issue")," if you encounter a problem with these methods."),(0,o.kt)("p",null,"One limitation of the \"boss name\" method is that some bosses exist in multiple places, e.g., Ragnaros or Kael'thas. Unfortunately there's no way to differentiate them (that we're aware of) so in those cases the defeat detection likely won't work reliably."),(0,o.kt)("h2",{id:"limitations"},"Limitations"),(0,o.kt)("h3",{id:"special-detection-methods"},"Special Detection Methods"),(0,o.kt)("p",null,"Only items that use one of the predefined methods of detection can currently be tracked. This is normally because others are more difficult to track, or no one has requested an item that would require a different method to be implemented and so we haven't bothered."),(0,o.kt)("p",null,"In many cases we've added workarounds to track items that don't fit this description already, so we can likely retrofit that and make similar items work. Simply let us know which item you're looking to track and we'll see what we can do."),(0,o.kt)("h3",{id:"multiple-sources"},"Multiple Sources"),(0,o.kt)("p",null,"Only one drop rate value can be set for items that drop from multiple NPCs. It's recommended to take the average or make an estimate based on the available sample size (more recored kills means the data will be more accurate) if the item drops from multiple sources."),(0,o.kt)("p",null,"Items that can be obtained via entirely different means can only be tracked using one of them."),(0,o.kt)("h3",{id:"duplicate-names"},"Duplicate Names"),(0,o.kt)("p",null,"Each item must have a unique identifier and you can't introduce duplicate names inside the Custom group, although it's possible to have two items in different groups without causing a conflict."),(0,o.kt)("h3",{id:"immortal-raid-bosses"},'"Immortal" Raid Bosses'),(0,o.kt)("p",null,"Raid bosses and other NPCs that don't technically die (i.e., don't leave a corpse you could loot) when killed can't use the ",(0,o.kt)("inlineCode",{parentName:"p"},"BOSS")," method and must instead rely on other methods of detection, or require unique workarounds."),(0,o.kt)("p",null,"It's recommended to use ",(0,o.kt)("a",{parentName:"p",href:"#using-kill-statistics"},"Kill Statistics")," for this whenever possible, as it's the easiest and most accurate way of tracking boss kills."),(0,o.kt)("h3",{id:"pushed-items-and-loot-toasts"},"Pushed Items and Loot Toasts"),(0,o.kt)("p",null,"Items that are pushed to your inventory directly or acquired from nonstandard Loot Toasts can't be detected without unique workarounds. Rarity can usually detect that the item has been obtained, but not when an attempt was made."))}m.isMDXComponent=!0},5766:function(e,t,i){"use strict";t.Z=i.p+"assets/images/02-defeat-detection-fields-7f369cefd17e9a1c9f63066fd777b46a.png"},938:function(e,t,i){"use strict";t.Z=i.p+"assets/images/02-getiteminfo-error-d159494eff8753b57c0fe75bbb7cb9cc.png"},270:function(e,t,i){"use strict";t.Z=i.p+"assets/images/02-guldan-kill-statistics-813762932cf4c2b42c54ceef1e97d50d.png"},8048:function(e,t,i){"use strict";t.Z=i.p+"assets/images/02-item-properties-example-13718510674ff0b31c7b9b2f6366fffb.png"},7569:function(e,t,i){"use strict";t.Z=i.p+"assets/images/02-kill-statistic-ids-3e4bd8b6c4644bd9ba7618a6ae674f57.png"},7855:function(e,t){"use strict";t.Z="data:image/png;base64,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"}}]);